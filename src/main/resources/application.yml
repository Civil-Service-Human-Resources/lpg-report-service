spring:
  jackson:
    serialization:
      write_dates_as_timestamps: false
    default-property-inclusion: non_null
  resources:
    add-mappings: false
  flyway:
    enabled: false

h2database:
  enabled: false

server:
  port: 9004

logging:
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  level:
    root: ${ROOT_LOGGING_LEVEL:INFO}
    org.apache.http: WARN

oauth:
  serviceUrl: ${OAUTH_SERVICE_URL:http://localhost:8080}
  clientId: ${CLIENT_ID:9fbd4ae2-2db3-44c7-9544-88e80255b56e}
  clientSecret: ${CLIENT_SECRET:test}
  checkTokenUrl: "${oauth.serviceUrl}/oauth/check_token"
  tokenUrl: "${oauth.serviceUrl}/oauth/token"
  jwtKey: ${jwt_key}

learningCatalogue:
  serviceUrl: ${LEARNING_CATALOGUE_SERVICE_URL:http://localhost:9001}
  eventsUrl: "${learningCatalogue.serviceUrl}/reporting/events"
  modulesUrl: "${learningCatalogue.serviceUrl}/reporting/modules"
---

spring:
  profiles: test, production
  datasource:
    url: ${DATASOURCE:jdbc:mysql://localhost:3306/learner_record?user=root&password=password&useSSL=false}
    platform: mysql
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000